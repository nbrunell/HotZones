<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Profile & Edit</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous" />
    <link rel="stylesheet" href="./css/profileView.css">
</head>

<body>
    <!-- Top Bar with Hamburger Menu -->
    <div class="top-bar">
        <!-- Hamburger Menu Icon (replaces Go Back button) -->
        <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24" id="hamburger">
            <path d="M0 0h24v24H0z" fill="none" />
            <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z" />
        </svg>
        <h5>Profile</h5>
        <!-- Save Button now triggers the modal -->
        <button class="btn btn-save" data-bs-toggle="modal" data-bs-target="#saveModal">Save</button>
    </div>

    <!-- Sidebar & Overlay -->
    <div id="overlay"></div>
    <div id="sidebar">
        <a href="/dashboard.html" class="sidebar-item">
            <div>Home</div>
        </a>
        <a href="/profileView.html" class="sidebar-item">
            <div>My Profile</div>
        </a>
        <a href="/analytics.html" class="sidebar-item">
            <div>Analytics</div>
        </a>
        <a href="/videos.html" class="sidebar-item">
            <div>Get Help</div>
        </a>
        <a href="/coach.html" class="sidebar-item">
            <div>Coaches Hub</div>
        </a>
    </div>

    <!-- Profile Card & Edit Form -->
    <div class="container">
        <div class="card mx-auto" style="max-width: 800px;">
            <div class="card-body">
                <div class="row align-items-center">
                    <!-- Left: Profile Photo & Change Picture -->
                    <div class="col-md-4 text-center mb-3 mb-md-0">
                        <img src="" alt="User Photo" class="avatar-img" id="profileImageDisplay" />
                        <div class="mt-3">
                            <!-- Label opens the file explorer when clicked -->
                            <label for="profile-image" class="change-picture"
                                style="cursor:pointer; color:#d67214; text-decoration:underline;">
                                Change Picture
                            </label>
                            <!-- Hidden file input -->
                            <input type="file" class="form-control" id="profile-image" accept="image/png, image/jpeg"
                                style="display:none;">
                        </div>
                    </div>

                    <!-- Right: Profile Info -->
                    <div class="col-md-8">
                        <h2 id="profile-name-display"></h2>
                        <p id="profile-email"></p>
                        <h4>Bio</h4>
                        <p id="profile-bio-display"></p>
                        <h4>Position</h4>
                        <p id="profile-position-display"></p>
                        <h4>Role</h4>
                        <p id="profile-role-display"></p>
                    </div>
                </div>
                <hr class="text-white-50" />
                <!-- Edit Form -->
                <form>
                    <div class="mb-3">
                        <div class="label-text">Name</div>
                        <input type="text" class="form-control" id="profile-name" placeholder="Your Name Here"
                            placeholder="Your Name" />
                    </div>
                    <div class="mb-3">
                        <div class="label-text">Bio</div>
                        <textarea class="form-control" rows="3" id="profile-bio" placeholder="Your Bio Here"></textarea>
                    </div>
                    <div class="mb-3">
                        <div class="label-text">Position</div>
                        <input type="text" class="form-control" id="profile-position"
                            placeholder="Your Position Here" />
                    </div>
                    <div class="mb-3">
                        <div class="label-text">Role</div>
                        <select class="form-select" id="profile-role">
                            <option value="player">Player</option>
                            <option value="coach">Coach</option>
                        </select>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Save Confirmation Modal -->
    <div class="modal fade" id="saveModal" tabindex="-1" aria-labelledby="saveModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content" style="background-color: #1f1f1f; color: #fff;">
                <div class="modal-header">
                    <h5 class="modal-title" id="saveModalLabel">Confirm Save</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
                        style="filter: invert(1);"></button>
                </div>
                <div class="modal-body">
                    Are you sure you want to save?
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">No</button>
                    <button type="button" class="btn btn-save" id="confirmSave" data-bs-dismiss="modal">Yes</button>
                </div>
            </div>
        </div>
    </div>

    <!-- External Scripts -->
    <script src="/js/profileView.js"></script>
    <script src="/js/datamodel.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
    <!-- Hamburger Menu Script -->
    <script>
        const hamburger = document.getElementById('hamburger')
        const sidebar = document.getElementById('sidebar')
        const overlay = document.getElementById('overlay')

        let menuOpen = false

        function openMenu() {
            menuOpen = true
            overlay.style.display = 'block'
            sidebar.style.width = '250px'
        }

        function closeMenu() {
            menuOpen = false
            overlay.style.display = 'none'
            sidebar.style.width = '0px'
        }

        hamburger.addEventListener('click', function () {
            if (!menuOpen) {
                openMenu()
            }
        })

        overlay.addEventListener('click', function () {
            if (menuOpen) {
                closeMenu()
            }
        })
    </script>

    <script>
        document.getElementById('confirmSave').addEventListener('click', function () {
            // Add your save functionality here
            console.log('User confirmed save.');
        });
    </script>
</body>

</html>